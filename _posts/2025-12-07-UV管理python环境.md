
---
title: UV管理Python环境
date: 2025-12-07 10:00:00 +0800
categories: [工具, Python]
tags: [Python, 环境管理, UV]
---

## 什么是UV

UV是一个现代的Python包和环境管理器，具有高速、高效的特点，是pip和venv的替代品。它提供了Python版本管理、虚拟环境创建、依赖管理等功能。

## 安装UV

```bash
# 使用pip安装
pip install uv

# 或使用官方安装脚本
curl -LsSf https://astral.sh/uv/install.sh | sh
```

## Python版本管理

### 列出可用的Python版本
```bash
uv python list
```

### 安装特定版本的Python
```bash
uv python install cpython-3.12
```

### 运行指定Python版本的脚本
```bash
uv run -p 3.12 ai.py
```

### 启动指定Python版本的交互式解释器
```bash
# 使用CPython 3.12
uv run -p 3.12 python

# 使用PyPy
uv run -p pypy python
```

## 虚拟环境管理

### 初始化项目并创建虚拟环境
```bash
uv init -p 3.13
```

### 激活虚拟环境
```bash
# Linux/macOS
source .venv/bin/activate

# Windows
.venv\Scripts\activate
```

### 安装依赖包
```bash
# 安装单个包
uv add requests

# 安装多个包
uv add numpy pandas matplotlib

# 安装指定版本的包
uv add requests==2.31.0

# 安装开发依赖
uv add --dev pytest
```

### 卸载依赖包
```bash
uv remove requests
```

### 更新依赖包
```bash
# 更新所有依赖
uv update

# 更新特定依赖
uv update requests
```

### 查看已安装的依赖
```bash
uv list
```

## 其他常用命令

### 生成requirements.txt文件
```bash
uv export > requirements.txt
```

### 从requirements.txt安装依赖
```bash
uv pip install -r requirements.txt
```

### 清理缓存
```bash
uv cache clean
```

### 检查依赖冲突
```bash
uv check
```

## 与pip/venv的对比优势

1. **速度更快**：UV使用Rust编写，比pip快10-100倍
2. **内存占用低**：更高效的依赖解析算法
3. **一体化管理**：同时管理Python版本和虚拟环境
4. **内置锁文件**：自动生成uv.lock确保依赖一致性
5. **更好的错误信息**：更清晰的错误提示和解决方案